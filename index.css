@import "tailwindcss";
@import "./styles.css";

@layer base {
    html,
    :host {
        @apply scroll-smooth;
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }

    body {
        @apply text-[var(--text-primary)];
        font-feature-settings:
            "rlig" 1,
            "calt" 1;
        transition:
            background var(--transition-slow),
            color var(--transition-base);
    }
}

/* Component styles - Duplicated styles moved to styles.css */
@layer components {
    .input {
        @apply flex h-10 w-full rounded-lg border border-[var(--input-border)] bg-[var(--input-bg)] px-3 py-2 text-sm ring-offset-[var(--card-bg)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--input-placeholder)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300;
    }
}

/* Modern minimal utility components - Duplicated styles moved to styles.css */
@layer components {
    .glass {
        @apply bg-[var(--glass-bg)] border border-[var(--glass-border)];
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
}

/* Mobile-first utility classes */
@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    .text-pretty {
        text-wrap: pretty;
    }
    
    /* Mobile-specific utilities */
    .min-h-touch {
        min-height: 44px; /* iOS minimum touch target */
    }
    
    .touch-target {
        min-height: 44px;
        min-width: 44px;
    }
    
    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    .safe-top {
        padding-top: env(safe-area-inset-top);
    }
    
    /* Mobile-optimized typography */
    .mobile-text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
    }
    
    .mobile-text-base {
        font-size: 1rem;
        line-height: 1.5rem;
    }
    
    .mobile-text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
    }
    
    .mobile-text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
    }
    
    /* Touch-friendly scroll */
    .touch-scroll {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
    
    /* Mobile grid improvements */
    @media (max-width: 640px) {
        .mobile-grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }
        
        .mobile-grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        
        .mobile-gap-2 {
            gap: 0.5rem;
        }
        
        .mobile-gap-3 {
            gap: 0.75rem;
        }
    }

    /* Motion utilities */
    .elevate {
        @apply transition-transform duration-300 hover:-translate-y-1 hover:scale-[1.02];
    }

    .focus-elevate {
        @apply transition-transform duration-300 focus:-translate-y-0.5;
    }

    .subtle-scale {
        @apply transition-transform duration-300 hover:scale-105;
    }

    /* Gradient text */
    .gradient-text {
        @apply bg-gradient-to-r from-[var(--accent-primary)] to-[var(--accent-secondary)] bg-clip-text text-transparent;
    }

    /* Glass effect - Duplicated styles moved to styles.css */
    .glass-effect {
        @apply bg-[var(--glass-bg)] border border-[var(--glass-border)];
        backdrop-filter: var(--backdrop-blur);
        -webkit-backdrop-filter: var(--backdrop-blur);
    }
    
    /* Smooth transitions - Duplicated styles moved to styles.css */
    .transition-smooth {
        transition: all var(--transition-smooth);
    }
    
    .transition-base {
        transition: all var(--transition-base);
    }
    
    .transition-fast {
        transition: all var(--transition-fast);
    }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .animate-fade-in,
    .slide-in-left,
    .slide-out-left,
    .slide-in-right,
    .slide-out-right,
    .animate-slide-up,
    .animate-slide-down,
    .elevate,
    .subtle-scale,
    .focus-elevate {
        animation: none !important;
        transform: none !important;
        transition: none !important;
    }
}

/* ReactCrop custom styles */
.ReactCrop {
    @apply max-w-full inline-block overflow-hidden cursor-crosshair;
}

.ReactCrop__crop-selection {
    border: 2px solid var(--accent-primary) !important;
    border-radius: var(--radius-sm);
    box-shadow: 0 0 0 9999em rgba(0, 0, 0, 0.5);
    transition: border-color var(--transition-base);
}

.ReactCrop__drag-handle {
    @apply w-3 h-3 rounded-full shadow-md transition-all duration-200;
    background-color: var(--accent-primary) !important;
    border: 2px solid white !important;
}

.ReactCrop__drag-handle:hover {
    @apply scale-125;
    background-color: var(--accent-primary-hover) !important;
}

/* Custom scrollbar - Duplicated styles moved to styles.css */
::-webkit-scrollbar {
    @apply w-2 h-2;
}

::-webkit-scrollbar-track {
    @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
    @apply rounded-full;
    background: var(--control-border);
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background var(--transition-base);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
    background-clip: padding-box;
}

/* Firefox scrollbar - Duplicated styles moved to styles.css */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--control-border) transparent;
}

/* Loading spinner - Duplicated styles moved to styles.css */
.spinner {
    @apply w-8 h-8 rounded-full animate-spin;
    border: 3px solid var(--control-border);
    border-top-color: var(--accent-primary);
}

.spinner-sm {
    @apply w-6 h-6;
    border-width: 2px;
}

.spinner-lg {
    @apply w-12 h-12;
    border-width: 4px;
}

/* Backdrop - Duplicated styles moved to styles.css */
.backdrop {
    @apply fixed inset-0 bg-black/60 z-40;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    animation: fadeIn var(--transition-base) ease-out;
}

/* Badge - Duplicated styles moved to styles.css */
.badge {
    @apply inline-flex items-center justify-center px-2.5 py-1 text-xs font-semibold rounded-full whitespace-nowrap;
}

.badge-primary {
    @apply bg-[var(--accent-primary)] text-white;
}

.badge-secondary {
    @apply bg-[var(--control-bg)] text-[var(--text-secondary)] border border-[var(--control-border)];
}

/* Divider with text - Duplicated styles moved to styles.css */
.divider-text {
    @apply flex items-center text-center my-6;
}

.divider-text::before,
.divider-text::after {
    content: "";
    @apply flex-1 border-b border-[var(--control-border)];
}

.divider-text:not(:empty)::before {
    @apply mr-4;
}

.divider-text:not(:empty)::after {
    @apply ml-4;
}

.divider-text span {
    @apply text-xs font-semibold text-[var(--text-tertiary)] uppercase tracking-wider;
}
